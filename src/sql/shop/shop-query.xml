<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM
"http://java.sun.com/dtd/properties.dtd">
<properties>
<entry key="productList">
	SELECT
				PRODUCT_NO
			  ,	PRODUCT_CATEGORY
			  , PRODUCT_NAME
			  , PRODUCT_PRICE
			  , PRODUCT_IMG
		 FROM PRODUCT
		 ORDER BY PRODUCT_PRICE
	</entry>
	
	<entry key="insertProduct">
		INSERT
			INTO PRODUCT
			(
				PRODUCT_NO
			  , PRODUCT_CATEGORY
			  , PRODUCT_NAME
			  , EXPIRATION_DATE
			  , PRODUCT_DETAIL
			  , PRODUCT_PRICE
			  , PRODUCT_IMG	
			)
			VALUES
			(
				SEQ_PNO.NEXTVAL
			  , ?
			  , ?
			  , ?
			  , ?
			  , ?
			  , ?	
			)
	
	</entry>
	<entry key="selectProduct">
	   SELECT
			    PRODUCT_NO
			  ,	PRODUCT_CATEGORY
			  ,	PRODUCT_NAME
			  ,	EXPIRATION_DATE
			  , PRODUCT_PRICE
			  ,	PRODUCT_DETAIL
			  ,	PRODUCT_IMG
		   FROM PRODUCT
		  WHERE PRODUCT_NO = ?
	 </entry>
	  
	  
	 <entry key="modifyProduct">
	   UPDATE PRODUCT
   	  	SET 	
   	  		  PRODUCT_CATEGORY = ?
			  , PRODUCT_NAME = ?
			  , EXPIRATION_DATE = ?
			  , PRODUCT_DETAIL = ?
			  , PRODUCT_PRICE = ?
			  , PRODUCT_IMG = ?	
   	  	
   		WHERE PRODUCT_NO = ?
	 </entry>
	 
	 <entry key="deleteProduct">
	 	DELETE FROM PRODUCT
  		 WHERE PRODUCT_NO = ?
	 
	 </entry>
	 
	<entry key="insertCharge">
		INSERT
			INTO CHARGE
			(
				CHARGE_NO
			  , CHARGE_DATE
			  , CHARGE_COIN
			  , PAYMENT_METHOD
			  , USER_NO
			)
			VALUES
			(
				SEQ_CNO.NEXTVAL
			  , SYSDATE
			  , ?
			  , ?
			  , ?	
			)
	
	</entry>
	
	<entry key="insertOrder">
		INSERT
			INTO PURCHASE
			(
				PURCHASE_NO
			  , PURCHASE_DATE
			  , START_DATE
		  	  , EXPIRATION_DATE
		 	  , USER_NO
			  , PRODUCT_NO
			)
			VALUES
			(
				SEQ_ONO.NEXTVAL
			  , SYSDATE
			  , SYSDATE
			  , SYSDATE + (SELECT 
                            EXPIRATION_DATE
                            FROM PRODUCT
                            WHERE PRODUCT_NO = ?)
			  , ?
			  , ?	
			)
	
	</entry>
	
	
	<entry key="orderAfterCoin">
	UPDATE MEMBER
   	  	SET USER_COIN = USER_COIN - (SELECT
   	  									PRODUCT_PRICE
   	  									FROM PRODUCT
   	  								WHERE PRODUCT_NO = ?
   	  								)
   	  	
   		WHERE USER_NO = ?
	
	
	</entry>


	<entry key="chargeAfterCoin">
	UPDATE MEMBER
   	  	SET USER_COIN = USER_COIN + (SELECT
   	  									CHARGE_COIN
   	  									FROM CHARGE
   	  								WHERE CHARGE_NO = ?
   	  								)
   	  	
   		WHERE USER_NO = ?
	
	
	
	
	</entry>
















</properties>